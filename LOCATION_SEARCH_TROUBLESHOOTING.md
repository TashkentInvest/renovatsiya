# Location Search - Troubleshooting Guide












































































































































































































































**Status:** Location Search feature operational with enhanced error logging**Last Updated:** December 9, 2025---- If any step takes >1 second, likely map/DOM issue- Toast notification: appears immediately- Map zoom: <100ms (very quick)- Parsing: <5ms (instant)## Performance Notes---5. **URL you're on:** (which page/environment)4. **Browser info:** (name and version)3. **Expected vs actual:** (what should happen vs what happened)2. **Console messages:** (screenshot or copy from Console tab)1. **Exact input you tried:** (coordinate or URL)When reporting problems, include:## Report Issues With---```// Should return [41.36, 69.27] or nullwindow.locationSearchManager.parseGoogleMapsUrl("https://www.google.com/maps/search/41.36,69.27");```javascript### Test URL Parsing```});    currentValue: mgr.searchInput?.value    hasAddToast: !!mgr.addToast,    hasResults: !!mgr.resultsContainer,    hasInput: !!mgr.searchInput,    isInitialized: mgr.isInitialized,console.log({const mgr = window.locationSearchManager;```javascript### Check Internal State```// Now all console.log calls are visibleconsole.logAll = console.log;const orig = console.log;```javascriptIn browser console, before searching:### Enable Verbose Logging## Advanced Debugging---4. Map is fully loaded (wait a few seconds)3. Console shows "Parsing..." message2. You pressed actual Enter key (not just typed it)1. Search input has focus (cursor visible)**Solution:** Check:### Issue: Nothing happens when pressing Enter**Solution:** Click the search input field to trigger help text display### Issue: Help text doesn't appear3. Paste the expanded URL2. Select "Copy link address"1. Right-click short link**Solution:** Expand the URL first### Issue: Short URLs don't work- Check if copying coordinates from different location- Valid range: 39-43°N, 68-71°E**Solution:** Coordinates don't match expected bounds### Issue: "Noto'g'ri koordinatalar" message- Yandex: `longitude, latitude` (69.xxx, 41.xxx)- Google/Decimal: `latitude, longitude` (41.xxx, 69.xxx)**Solution:** Check coordinate order### Issue: Marker appears in wrong location## Common Issues & Solutions---3. If KMZ toast doesn't appear, location search toast won't either2. Try KMZ search first (it uses same toast)1. Check that toast system is working### Step 4: Verify Toast Notifications2. Should immediately place marker and show success toast   ```   window.locationSearchManager.findLocation();   window.locationSearchManager.searchInput.value = "41.3639259, 69.2740783";   ```javascript1. In console, paste:### Step 3: Test Manual Search3. If returns `null`, format isn't recognized2. Should return: `[41.3639259, 69.2740783]`   ```   window.locationSearchManager.parseDecimal("41.3639259, 69.2740783");   ```javascript1. In console, paste:### Step 2: Test Coordinate Parsing3. Both should print `true`   ```   console.log("LocationSearchManager available:", !!window.locationSearchManager);   console.log("Map available:", !!window.mapInstanceRef?.current);   ```javascript2. Paste and run:1. Open Browser Console (F12)### Step 1: Verify Map is Ready## Step-by-Step Troubleshooting---- If no marker appears, coordinates may be out of bounds- Yandex URL detected and parsed**"Yandex coords extracted: [41.36, 69.27]"**- Refresh page if persistent- Wait 3-5 seconds and try again- Map component hasn't finished loading**"Map not available"**- Try different format (comma vs space)- Input format not recognized- Parsing created NaN (Not a Number)**"Invalid coordinates - NaN detected"**- Double-check coordinate values- Coordinates are outside Tashkent (expected: 39-43°N, 68-71°E)**"Coordinates out of bounds: lat=41.36, lng=69.27"**- Check next line for specific error- Coordinates parsed but validation failed**"Parsing decimal coordinates: 41.36 69.27" then nothing happens**### Error Messages ❌→ **Result:** Orange success toast: "Joylashuv topildi: 41.3639, 69.2740"```"Marker added to map""Map view set successfully""Zooming to coordinates: [41.36, 69.27]""Valid as lat,lng: [41.36, 69.27]""Parsing decimal coordinates: 41.36 69.27"```### Success Messages ✅## Reading Console Messages---**Key Point:** Yandex uses `ll=longitude,latitude` order (opposite of Google!)```https://yandex.uz/maps/10335/tashkent/?ll=69.27,41.36&z=17```**Working Format:**### 4. Yandex Maps URL---4. Paste the expanded version into search field3. This copies the expanded URL2. Select "Copy link address" 1. Right-click the short URL**If short URL doesn't work:**```https://maps.app.goo.gl/BHK9GwLvJiVBRn8j6  (SHORT URL - requires server expansion)```**NOT Working:**```https://www.google.ru/maps/place/@41.364,69.273,17zhttps://www.google.com/maps/search/41.364,69.273https://www.google.com/maps/place/41°21'50.93"N+69°16'25.67"E/@41.364,69.273,17z```**Working Examples:**### 3. Google Maps URL---3. Ensure directions (N, S, E, W) are present2. Copy-paste examples from help text (click on search field to see help)1. Check for typos in degree symbols (°), apostrophes ('), and quotes (")**If not working:**```41°21'50.93"N 69°16'25.67"E41°21'50.93"N, 69°16'25.67"E```**Working Format:**### 2. DMS Coordinates (Degrees Minutes Seconds)---   - Ensure no extra spaces: `41.36,69.27`   - Try with comma separator: `41.36, 69.27`3. If no console message: Format not recognized2. If "out of bounds": Coordinates are outside Tashkent region (39-43°N, 68-71°E)   - ❌ "Coordinates out of bounds:"   - ✅ "Parsing decimal coordinates:"1. Check console (F12 > Console) for message starting with:**If not working:**```69.2740783, 41.3639259  (order doesn't matter)41.3639259 69.274078341.3639259, 69.2740783```**Working Format:**### 1. Decimal Coordinates## Diagnosis by Input Type---- [ ] Page has been refreshed after code update (Ctrl+F5)- [ ] Browser console shows no JavaScript errors (F12 > Console)- [ ] You're entering coordinates in a supported format- [ ] Location search input field is visible in the top-left- [ ] Map is fully loaded (wait 3-5 seconds after page loads)### Quick Checklist## "Cannot found that locations" Error
